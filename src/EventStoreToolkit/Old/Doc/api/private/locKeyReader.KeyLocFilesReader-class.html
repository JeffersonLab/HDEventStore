<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>locKeyReader.KeyLocFilesReader</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          EventStoreToolkit&nbsp;API
      </p></th></tr></table>
    </th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="locKeyReader-module.html">Module&nbsp;locKeyReader</a> ::
        Class&nbsp;KeyLocFilesReader
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[show&nbsp;private&nbsp;|&nbsp;<a href="../public/locKeyReader.KeyLocFilesReader-class.html">hide&nbsp;private</a>]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="locKeyReader.KeyLocFilesReader-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class KeyLocFilesReader</h2>

<hr/>

Location and key reader class which allow to read data from location 
and key files simultaneuosly (it allow to read data from one key file and 
a number of location files, e.g. pass2, post-pass2).
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>keyFileName</span>,
          <span class=summary-sig-arg>locFileList</span>)</span></code>
<br />
Class constructor which initialize key and location file descriptions 
and reads their headers.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#backToFirstRecord" class="summary-sig-name"><code>backToFirstRecord</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return key and location files descriptors to the position of first 
records in those files</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#dataInStreams" class="summary-sig-name"><code>dataInStreams</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return dictionary[stream]=[proxies] list of proxies in a stream</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#fileIDs" class="summary-sig-name"><code>fileIDs</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return list of file Id's from location file</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#formTupleTriplet" class="summary-sig-name"><code>formTupleTriplet</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>recordInfoList</span>)</span></code>
<br />
Read (sv,fileOffset,streamIdx) from each entry of given recordInfoList 
and form combined (sv,fileOffset,streamIdx).</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#locFileList" class="summary-sig-name"><code>locFileList</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return list of location files associated with given class</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#newOldIndecies" class="summary-sig-name"><code>newOldIndecies</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Build conversion from new stream index to old one</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#numberOfSyncValues" class="summary-sig-name"><code>numberOfSyncValues</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return number of sync values from key file</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#readLastRecordInfo" class="summary-sig-name"><code>readLastRecordInfo</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Read last record from key and location files and return tuple 
(syncValue, list of fileOffsets, stream index)</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#readRecordInfo" class="summary-sig-name"><code>readRecordInfo</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Read one record from key and location files at their current position 
and return tuple (syncValue, list of fileOffsets, stream index).</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="locKeyReader.KeyLocFilesReader-class.html#streamNames" class="summary-sig-name"><code>streamNames</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return list of streams in location file</td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>keyFileName</span>,
          <span class=sig-arg>locFileList</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
  Class constructor which initialize key and location file 
  descriptions and reads their headers.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="backToFirstRecord"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">backToFirstRecord</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return key and location files descriptors to the position of first 
  records in those files
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="dataInStreams"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">dataInStreams</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return dictionary[stream]=[proxies] list of proxies in a stream
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="fileIDs"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">fileIDs</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return list of file Id's from location file
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="formTupleTriplet"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">formTupleTriplet</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>recordInfoList</span>)</span>
  </h3>
  Read (sv,fileOffset,streamIdx) from each entry of given 
  recordInfoList and form combined (sv,fileOffset,streamIdx). This method 
  is used in <a 
  href="locKeyReader.KeyLocFilesReader-class.html#readRecordInfo" 
  class="link"><code>readRecordInfo</code></a> and 
  readLastRecordInfo.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="locFileList"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">locFileList</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return list of location files associated with given class
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="newOldIndecies"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">newOldIndecies</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Build conversion from new stream index to old one
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="numberOfSyncValues"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">numberOfSyncValues</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return number of sync values from key file
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="readLastRecordInfo"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">readLastRecordInfo</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Read last record from key and location files and return tuple 
  (syncValue, list of fileOffsets, stream index)
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="readRecordInfo"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">readRecordInfo</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Read one record from key and location files at their current 
  position and return tuple (syncValue, list of fileOffsets, stream 
  index). Internally it reads file offsets from all location files 
  associated with key file and forms a combined files offset list.
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="streamNames"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">streamNames</span>(<span class=sig-arg>self</span>)</span>
  </h3>
  Return list of streams in location file
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          EventStoreToolkit&nbsp;API
      </p></th></tr></table>
    </th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Tue Jan 24 10:46:01 2006</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
